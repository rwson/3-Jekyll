<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="rwson">
  <!-- Open Graph Data -->
  <meta property="og:title" content="javascript实现继承"/>
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="小宋"/>
  <meta property="og:type" content="article" />
  <meta property="og:image" content="http://yoursite.com/childundefined"/>
  
    <link rel="alternate" href="/atom.xml" title="小宋" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  

  <!-- Site Title -->
  <title>小宋</title>

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.light.css">

  <!-- Google Analytics -->
  

</head>

  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/banner.jpeg)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="page-title with-background-image">
          <p class="title">javascript实现继承</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  Home
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  Archives
                  
                </a>
              </li>
            
              <li>
                <a href="https://github.com/rwson">
                  
                  Github
                  
                </a>
              </li>
            
              <li>
                <a href="mailto:862121312@qq.com">
                  
                  Email
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


<article>
  <div class="container typo">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By rwson</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2015-05-26</span>
          </span>
          
          <!--  Categories  -->
            <span class="categories info">Under 

<a href="/categories/javascript/">javascript</a> / <a href="/categories/javascript/继承/">继承</a>
</span>
          
        </div>
        <!-- Tags -->
        
        <!-- Post Main Content -->
        <div class="post-content">
          <p>继承:</p>
<p>继承是指一个对象拥有另外一个对象一些公共方法或属性。在大多数其他面向对象语言中，继承一个类只需使用一个关键字即可；但是在JS中想要达到继承公用成员的目的，需要采取一系列措施。JS属于原型式继承，得益于这种灵活性，我们既可以使用标准的基于类的继承，也可以使用更微妙一些的原型式继承。在JS中应该要明确一点，一切继承都是通过prototype来进行的，JS是基于对象来继承的，且不止一种继承方式。</p>
<p>第一种：</p>
<pre><code>/**
 * 父类SuperClass的构造器
 * @param name
 * @constructor
 */
function SpuerClass(name){
    this.name = name;    
}

SuperClass.prototype = {
    &quot;constructor&quot;:SpuerClass,
    //    修正构造器
    &quot;getName&quot;:function(){
        return this.name;
    }
    //    父类原型对象下的getName方法
};

/**
 * 子类SubClass的构造器
 * @param name
 * @param age
 * @constructor
 */
function SubClass(name,age){
    SuperClass.call(this,name);
    //    SuperClass.apply(this,[name]);
    //    继承父类构造器
}

SubClass.prototype = new SuperClass();
//    继承父类的原型

SubClass.prototype.constructor = SubClass;
//    修正子类的构造器

SubClass.prototype.getAge = function(){
    return this.age;
}
//    子类原型对象下的getAge方法
</code></pre><p>这种继承方式就是最简单的JS继承：伪造对象法。不足之处在于实例化SubClass时会调用两次父类的构造方法，且需要额外的保存原型链中实例化父类的对象，如果在属性和方法比较多的情况下，这样一来性能方面就大打折扣了，效果是达到了，但是执行速率受到了一定的影响。且耦合性较大，于是就有了下面的继承方式。</p>
<p>第二种：</p>
<pre><code>/**
 *
 * @param sub 子类
 * @param sup 父类
 * 实现子类对父类原型的继承
 */
function extend(sub,sup){       
    var F = new Function();
    //  用一个空函数进行中转

    F.prototype = sup.prototype;
    //  空函数的原型对象和父类的原型对象转换

    sub.prototype = new F();
    //  原型继承

    sub.prototype.constructor = sub;
    //  还原子类构造器

    //  指定子类构造方法
    //  保存父类的原型对象
    //  1.解耦方便,降低耦合性 2.方便获得父类的原型对象

    sub.superClass = sup.prototype;
    //  自定义子类的静态属性,接收父类的原型对象,
    //    如果子类重写了父类方法，可以通过该属性来访问
    if(sup.prototype.constructor == 
       Object.prototype.constructor){
        sup.prototype.constructor = sup;
    }
    //  判断父类原型对象的构造器是否为父类本身
    //    如果不是,手动还原构造器
}

/**
 * 父类SuperClass的构造器
 * @param name
 * @constructor
 */
function SpuerClass(name){
    this.name = name;    
}

SuperClass.prototype = {
    &quot;constructor&quot;:SpuerClass,
    //    修正构造器
    &quot;getName&quot;:function(){
        return this.name;
    }
    //    父类原型对象下的getName方法
};

/**
 * 子类SubClass的构造器
 * @param name
 * @param age
 * @constructor
 */
function SubClass(name,age){
    SubClass.superClass.constroctur.call(this,name);
    //    继承父类的name属性
    this.age = age;
}

extend(SubClass,SuperClass);
//    实现继承

SubClass.prototype.getName = function(){
    return &quot;你好,&quot; + this.name + &quot;!&quot;;
}
//    子类重写了父类的getName方法

var sub = new SubClass(&quot;小宋&quot;,22);
console.log(sub.getName());
//    你好,小宋

console.log(SubClass.superClass.getName.call(sub));
//    通过子类的静态属性来访问父类方法
//    小宋
</code></pre><p>上述代码也实现了子类对父类的继承，且是现在用的比较广泛的一种(类式继承)。<br>个人认为这种方法的好处在于：</p>
<p>1、仅在实例化对象的时候调用一次父类的构造函数；<br>2、且没有保存不必要的父类实例化的属性；<br>3、通过superClass属性，可以很轻松的访问被子类重写的父类方法；<br>4、降低耦合性。</p>

        </div>
      </div>
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Build By <a target="_blank" href="https://github.com/rwson">rwson</a>
        <p class="copyright text-muted">
          Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
        </p>
      </div>
    </div>
  </div>
</footer>


    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

